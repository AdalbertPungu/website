---
label: 'Storage'
---

### What's new

- Pageserver: more support for `aarch64` targets (walredo)
- Compute: support `ip4r`, `pg_hint_plan` extensions
- Compute: compile postgres with `lz4` and `zstd` support

### Bug fixes


### All

Not meant to be included in the final, but these are all commits in the PR with two columns:
- `R`: has `release-notes` label
- `>`: included above

```
   @kelvich Add more proxy cnames de99ee2
   @ololobus [compute_ctl] Add timeout for tracing_utils::shutdown_tracing() (#3982 40a68e9
 > @kelvich @hlinnaka Support aarch64 in walredo seccomp code (#3996) 3c9f42a
   @hlinnaka Refactor 'spec' in ComputeState. 6064a26
   @hlinnaka Use Lsn, TenantId, TimelineId types in compute_ctl. ef68321
   @hlinnaka Remove unused 'timestamp' field from ComputeSpec struct. 8ace7a7
   @hlinnaka Tolerate missing 'operation_uuid' field in spec file. 06ce83c
   @SomeoneToIgnore Move walreceiver start and stop behind a struct (#3973) d8939d4
   @SomeoneToIgnore Update most of the dependencies to their latest versions (#3991) a64044a
R> @samgaw @vadim2404 Add support for ip4r extension 8d29578
   @bayandin GitHub Workflows: use ref_name instead of ref 218062c
   @bayandin GitHub Workflows: print error messages to stderr c94b899
   @bayandin GitHub Workflows: use '!cancelled' instead of 'success or failure' 13e53e5
   @SomeoneToIgnore Revert "Update most of the dependencies to their latest versions (#3991… f7995b3
   @kelvich Add support for non-SNI case in multi-cert proxy 5d0ecad
   @knizhnik @hlinnaka Add check for duplicates of generated image layers (#3869) 732acc5
   @LizardWizzard @theirix Add reason to TenantState::Broken (#3954) 15d1f85
 > @vadim2404 Compile pg_hint_plan extension c237a2f
   @vadim2404 @LizardWizzard Add note about manual_release_instructions label (#4015) 356439a
   @hlinnaka Rename "Postgres nodes" in control_plane to endpoints. 53f438a
   @hlinnaka Tenant size should never be zero. Simplify test. 89b5589
   @bayandin Verify extensions checksums (#4014) 36c2094
   @ololobus [compute_ctl] Implement live reconfiguration (#3980) db8dd6f
   @save-buffer Make proxy shutdown when all connections are closed (#3764) fd31faf
   @dependabot Bump h2 from 0.3.15 to 0.3.17 (#4020) b6c7c32
   @problame make evictions_low_residence_duration_metric_threshold per-tenant (#3949 8895f28
   @bayandin test_runner: add Timeline Inspector to Grafana links (#4021) 0c82ff3
   @ololobus [compute_ctl] Do not create availability checker data on each start (#… 589cf1e
R> @vadim2404 Compile postgres with lz4 and zstd support 017d3a3
   @vadim2404 Add procps into compute containers 75ea810
   @vadim2404 [proxy] adjust proxy sleep timeout 5ffa20d
   @SomeoneToIgnore Update most of the dependencies to their latest versions (#4026) ebea298
   @mattnappo @hlinnaka Added black_box in layer_map benches (fix #3396) c2496c7
   @petuhovskiy Send AppendResponse keepalive once per second (#4036) 73f34ea
   @fcdm Add helm values for us-east-1 d8dd60d
   @fcdm Add us-east-1 hosts file and update regions (#4042) 0c08356
   @bayandin Bump h2 from 0.3.17 to 0.3.18 (#4045) e2a5177
   @fcdm Update pageserver instances in us-east-1 f1b7dc4
   @fcdm Add storage broker deployment to us-east-1 (#4048) 0bfbae2
   @sharnoff fix vm-informant dbname: "neondb" -> "postgres" (#4046) 02b28ae
   @ololobus [compute_ctl] Improve 'empty' compute startup sequence (#4034) 7ba5c28
   @duskpoet Adding synthetic size to pageserver swagger (#4049) afbbc61
   @problame add libmetric metric for each logged log message (#4055) e83684b
   @koivunej feat: warn when requests get cancelled (#4064) 4911d7c
   @problame add gauge for in-flight layer uploads (#3951) fa20e37
   @koivunej feat: add rough timings for basebackup (#4062) cb94739
   @problame neon_local: fix tenant create -c eviction_policy:... (#4004) dbbe032
   @SergeyMelnikov Deploy proxies for preview enviroments (#4052) 78bbbcc
   @koivunej fix: stop dead_code rustc lint (#4070) 7f80230
   @koivunej test_tenant_config: allow ERROR from eviction task (#4074) bfd45dd
   @bayandin Login to ECR and Docker Hub at once (#4067) 05ac0e2
   @hlinnaka @lassizci Enable OpenTelemetry tracing in proxy in staging. (#4065) 8945fbd
   @bayandin GitHub Workflows: Fix crane for several registries (#4076) 2d6fd72
   @SergeyMelnikov Fix new storage-broker deploy for eu-central-1 (#4079) 9d0cf08
   @SergeyMelnikov Configure extra domain for us-east-1 (#4078) f19b70b
   @koivunej refactor: drop pageserver_ondisk_layers (#4071) 850f6b1
   @koivunej build: remove busted sk-1.us-east-2 from staging hosts (#4082) 4625da3
   @koivunej feat: log how long tenant activation takes (#4080) 381c8fc
   @arssher Remove wait_for_sk_commit_lsn_to_reach_remote_storage. 31a3910
   @SergeyMelnikov Add safekeeper-3.us-east-2.aws.neon.build (#4085) 11df2ee
```
