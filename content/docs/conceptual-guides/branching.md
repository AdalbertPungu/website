---
title: Branching
enableTableOfContents: true
redirectFrom:
  - /docs/conceptual-guides/branches
---

<a id="branches-coming-soon/"></a>

## About branching

Neon allows you to instantly branch your data in the same way that you branch your code. For example, you can quickly and cost-effectively create branches of your production data for development, testing, staging, and variety of other purposes. For more information about how you can use branching to improve productivity and optimize your CI/CD pipelines, see [Branching use cases](#branching-use-cases).

A branch is a copy-on-write clone of existing Neon project created from a current or past state. A branch is completely isolated from its parent Neon project, so you are free play around with it, modify it, or remove it it when it's no longer needed.

Branch creation does not increase load on the parent Neon project. You can create a branch at any time without affecting the performance of your production system, and no downtime is required.

When you create a branch, all of the data in the parent project is available in the branch, but changes to the branch are independent of the parent Neon project project and vice versa.

## Branching from the Console

This section describes how to create and manage branches from the Neon Console.

### Creating a branch

Creating a branch requires that you have a project to branch from. For information about creating a project, see [Setting up a project](/docs/getting-started-with-neon/setting-up-a-project).

To create a branch:

1. In the Neon Console, select the **Branches** tab.
2. Click **New Branch**.
3. Enter a name for the branch.
4. Select the project or branch that you want to branch from.
5. Select the type of branch you want to create. 
    - **Head**: Branch the current state of the parent project. The branch is created with all of the parent project data.
    - **Time**: Branch a specific point in time. The branch is created with the project data as it existed at the specified date and time.
    - **LSN**: Branch from a specified Log Sequence Number (LSN). The branch is created with the project data as it existed at the specified LSN.
6. Select whether or not to create an endpoint for the branch. An endpoint may not be necessary when using a branch as a backup, for example.


### Viewing branches

Branches are listed on the **Projects** page in the Neon Console.

To access the Projects page, select **All Projects** from the project drop-down list at the top of the Neon Console.

You can identify a branch by its name, which has the following pattern:

```example
<project_id>-branch-<branch_id>
```

where:

`<project_id>` is the parent project ID
`<branch_id>` is the branch ID

For example, a branch name appears similar to the following:

```example
super-star-526912-branch-rough-queen-523183
```

### Renaming a branch

To rename a branch:

1. In the Neon Console, select the **Branches** tab.
2. Select the branch you want to rename.
3. If the left pane, select **Rename** from the menu associated with the branch.
4. Specify the new name and click **Save**.

### Deleting a branch

To delete a branch:

1. In the Neon Console, select the **Branches** tab.
2. Select the branch you want to delete.
3. If the left pane, select **Delete** from the menu associated with the branch.
4. In the **Delete the branch** dialog, click **Delete**.

Deleting a branch deletes the endpoint associated with the branch.

## Branching from the API

Any branch action that you can perform in the Neon Console can also be performed using the Neon API. The following examples demonstrate how to create, view, and delete branches using the Neon API. For other branch-related API methods, refer to the [Neon API reference](https://neon.tech/api-reference/).

### Prerequisites

- A Neon API request requires an API key. For information about obtaining an API key, see [Using API Keys](/docs/get-started-with-neon/using-api-keys). In the cURL examples below, the API key is represented by `$NEON_API_KEY`. Replace this value with your API key when issuing a request.
- The API examples in this section require a `<project_id>` or `<branch_id>` value. You can find these values in the Neon Console on the **Settings** tab, under **General Settings**. Project and branch IDs generated by Neon appear similar to these: `restless-sea-792742` and `branch-broken-paper-301953`. 

### Creating a branch

The following Neon API method creates a branch:

```bash
POST /projects/{project_id}/branches
```

Specified in a cURL command, the API method appears as follows:

```bash
curl -X POST -H 'Authorization: Bearer $NEON_API_KEY' https://console.neon.tech/api/v2/projects/<project_id>/branches
```

### Listing branches

The following Neon API method lists branches for the specified project.

```bash
GET /projects/{project_id}/branches
```

Specified in a cURL command, the API method appears as follows:

```bash
curl -X GET -H 'Authorization: Bearer $NEON_API_KEY' https://console.neon.tech/api/v2/projects/<project_id>/branches
```

### Deleting a branch

The following Neon API method deletes the specified branch.

```bash
DELETE /branches/{branch_id}
```

Specified in a cURL command, the API method appears as follows:

```bash
curl -X DELETE -H 'Authorization: Bearer $NEON_API_KEY' https://console.neon.tech/api/v2/branches/<branch_id>
```

### Branching use cases

Branching has a variety of possible uses, some of which are describes below:

- **Development**
    - Create a branch of your production database for your Development team
    - Create a branch for each Developer
	
- **Testing** 
    -	Run tests on a current branch of production data
    -	Test potentially destructive queries before deploying them to production
    -	Test schema changes
    -	Run tests on real data &mdash; branching eliminates the need to hydrate a test database
    -	Run tests in parallel on separate branches, each with its own dedicated compute

- **Staging**
    - Create a staging database by branching your production data
    - Create a branch for every pull request in your CI/CD pipeline
			
- **Backup**
    -	Quickly and easily create backup branches
    -	Instantly restore a previous state by branching from a previously created backup branch
    -	Name backup branches according to the time they were created for convenient point-in-time restore (PITR)
	
- **Replication**
    - Use branching to quickly and easily clone replicas

- **Historical Analysis**
    -	Run time-travel queries against a historical state
    -	Create a branch from a past point in time to reproduce an issue
	
- **Simulation**
    - Run "what if" scenarios on a branch of your production data
    - Perform each simulation on its own branch
	
- **Analytics**
    - Run costly queries on a branch of your production data, each with its own resources
	
- **Machine Learning**
    -	Create a branch for ML model training
    -	Name or tag a branch for a specific point in time for ML model training repeatability

### Branch characteristics

A branch has the following characteristics:

- A branch compute has 1 vCPU and 256 MB of RAM
- Branches are read-write 
- A branch supports a single endpoint, which is the URL address required to perform actions on the branch using the Neon API.
- A branch can be created without an endpoint. An endpoint may not be required for certain use cases, such as backups.
- A branch endpoint can be deleted
- The endpoint associated with the branch is deleted when a branch is deleted.
- A branch endpoint URL uses the same format as a project endpoint URL: `{project_id}-{endpoint_id}.cloud.neon.tech`
