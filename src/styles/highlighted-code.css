@layer components {
  :root {
    --shiki-color-text: #171717;
    --shiki-color-background: transparent;
    --shiki-token-constant: #0068d6;
    --shiki-token-string: #297a3a;
    --shiki-token-comment: #666666;
    --shiki-token-keyword: #bd2864;
    --shiki-token-parameter: #a35200;
    --shiki-token-function: #7820bc;
    --shiki-token-string-expression: #297a3a;
    --shiki-token-punctuation: #171717;
    --shiki-token-link: #297a3a;
    --shiki-token-operator: #7820bc;
    --shiki-token-embed: #171717;
  }

  .dark {
    --shiki-color-text: #ededed;
    --shiki-color-background: transparent;
    --shiki-token-constant: #52a8ff;
    --shiki-token-string: #62c073;
    --shiki-token-comment: #a1a1a1;
    --shiki-token-keyword: #f75f8f;
    --shiki-token-parameter: #ff990a;
    --shiki-token-function: #bf7af0;
    --shiki-token-string-expression: #62c073;
    --shiki-token-punctuation: #ededed;
    --shiki-token-link: #ededed;
    --shiki-token-operator: #bf7af0;
    --shiki-token-embed: #ededed;
  }

  code[data-theme*=' '],
  code[data-theme*=' '] span {
    color: var(--shiki-light);
  }

  @media (prefers-color-scheme: dark) {
    code[data-theme*=' '],
    code[data-theme*=' '] span {
      color: var(--shiki-dark);
    }
  }

  figure [data-rehype-pretty-code-figure] {
    @apply my-0;
  }

  pre [data-highlighted-line] {
    @apply bg-[rgba(0,85,255,0.08)] dark:bg-[rgba(0,229,153,0.08)];
  }

  [data-line-numbers='true'] pre {
    counter-reset: line;
  }

  [data-line-numbers='true'] pre [data-line]::before {
    counter-increment: line;
    content: counter(line);

    /* Other styling */
    display: inline-block;
    width: 1rem;
    margin-right: 1.25rem;
    text-align: right;
    color: gray;
  }

  code [data-line] {
    @apply px-4;
  }

  code [data-line]::after {
    @apply invisible overflow-hidden text-sm content-["'"];
  }

  .highlighted-code {
    pre {
      @apply overflow-x-auto px-1 py-6;
    }
  }

  .show-linenumbers {
    pre code {
      counter-reset: line;
    }

    pre code > [data-line]::before {
      counter-increment: line;
      content: counter(line);

      /* Other styling */
      display: inline-block;
      width: 1rem;
      margin-right: 1.25rem;
      text-align: right;
      color: gray;
    }

    code[data-line-numbers-max-digits='2'] > [data-line]::before {
      width: 1.5rem;
    }

    code[data-line-numbers-max-digits='3'] > [data-line]::before {
      width: 2.5rem;
    }
  }
}
